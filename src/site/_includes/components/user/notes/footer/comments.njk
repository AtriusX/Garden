{%- if not dgDisableComments and not authorPage and (not tags or 'catalog' not in tags) -%}
    <div class="comments">
        <div class="separator"></div>
        <script>
            let giscusTheme = localStorage.getItem("site-theme");

			if (giscusTheme === "auto") {
				giscusTheme = "preferred_color_scheme"
			}

            let giscusAttributes = {
                "src": "https://giscus.app/client.js",
                "data-repo": "AtriusX/Garden",
                "data-repo-id": "R_kgDOLb2d8A",
                "data-category": "General",
                "data-category-id": "DIC_kwDOLb2d8M4CdxMg",
                "data-mapping": "pathname",
                "data-reactions-enabled": "1",
                "data-emit-metadata": "1",
				"data-input-position": "top",
                "data-theme": giscusTheme,
                "data-lang": "en",
				"data-loading": "lazy",
                "crossorigin": "anonymous",
                "async": "async"
            };

            let giscusScript = document.createElement("script");
            Object.entries(giscusAttributes).forEach(([key, value]) => giscusScript.setAttribute(key, value));
            document.body.appendChild(giscusScript);
        </script>
        <noscript>Please enable JavaScript to view
            <a href="https://giscus.app/?ref_noscript">Giscus comments</a>.</noscript>
    </div>
{%- endif -%}